"use strict";(self.webpackChunkangular_todolist_v2=self.webpackChunkangular_todolist_v2||[]).push([[110],{1110:(J,p,i)=>{i.r(p),i.d(p,{AuthModule:()=>b});var o=i(4006),L=i(6895),l=i(1635),e=i(4650),c=i(5698);const v={login:"Log In",email:"E-mail",password:"Password",emailPlaceholder:"Ex. pat@example.com"},A={register:"Registration",name:"Username",email:"E-mail",password:"Password",repeatPassword:"Repeat password",emailPlaceholder:"Ex. pat@example.com"};var d=i(3985);const I=t=>{const r=t.get("password")?.value,n=t.get("repeatPassword")?.value;return r===n?null:{notSame:!0}};var g=i(629),T=i(5039),h=i(5328),m=i(9549),f=i(4144),E=i(4083);let Z=(()=>{class t{constructor(n,a,s,u){this.router=n,this.authService=a,this.loadingService=s,this.notificationService=u,this.TEMPLATE_TEXT=v,this.form=new o.cw({email:new o.NI(null,[o.kI.required,o.kI.email]),password:new o.NI(null,[o.kI.required,o.kI.minLength(5),o.kI.maxLength(16)])})}logIn(){this.authService.logIn(this.form.value).pipe((0,c.q)(1)).subscribe({next:n=>{this.loadingService.stopLoad(),this.notificationService.openSnackBar(n.message),n.status&&(this.authService.isAuth$.next(!0),this.router.navigate([d.W$.tasksList]))},error:()=>{this.loadingService.stopLoad()}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(l.F0),e.Y36(g.e),e.Y36(T.b),e.Y36(h.g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["login-form"]],decls:12,vars:8,consts:[[1,"form-group","flex-column",3,"formGroup"],[1,"mat-title"],["color","accent","appearance","outline"],["type","email","matInput","","formControlName","email",3,"placeholder"],["type","password","matInput","","formControlName","password",3,"placeholder"],[3,"label","disabled","buttonClick"]],template:function(n,a){1&n&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"mat-form-field",2)(4,"mat-label"),e._uU(5),e.qZA(),e._UZ(6,"input",3),e.qZA(),e.TgZ(7,"mat-form-field",2)(8,"mat-label"),e._uU(9),e.qZA(),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"ui-button",5),e.NdJ("buttonClick",function(){return a.logIn()}),e.qZA()()),2&n&&(e.Q6J("formGroup",a.form),e.xp6(2),e.Oqu(a.TEMPLATE_TEXT.login),e.xp6(3),e.Oqu(a.TEMPLATE_TEXT.email),e.xp6(1),e.Q6J("placeholder",a.TEMPLATE_TEXT.emailPlaceholder),e.xp6(3),e.Oqu(a.TEMPLATE_TEXT.password),e.xp6(1),e.Q6J("placeholder",a.TEMPLATE_TEXT.password),e.xp6(1),e.Q6J("label",a.TEMPLATE_TEXT.login)("disabled",a.form.invalid))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,m.KE,m.hX,f.Nt,E.L],encapsulation:2,changeDetection:0}),t})(),w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["login-page"]],decls:1,vars:0,template:function(n,a){1&n&&e._UZ(0,"login-form")},dependencies:[Z],encapsulation:2,changeDetection:0}),t})(),M=(()=>{class t{constructor(n,a,s,u){this.router=n,this.authService=a,this.loadingService=s,this.notificationService=u,this.TEMPLATE_TEXT=A,this.form=new o.cw({name:new o.NI(null,[o.kI.required,o.kI.minLength(3),o.kI.maxLength(9)]),email:new o.NI(null,[o.kI.required,o.kI.email]),password:new o.NI(null,[o.kI.required,o.kI.minLength(5),o.kI.maxLength(16)]),repeatPassword:new o.NI(null,[o.kI.required,o.kI.minLength(5),o.kI.maxLength(16)])},{validators:I})}register(){this.loadingService.startLoad();const{repeatPassword:n,...a}=this.form.value;this.authService.register(a).pipe((0,c.q)(1)).subscribe({next:s=>{this.loadingService.stopLoad(),this.notificationService.openSnackBar(s.message),s.status&&(this.authService.isAuth$.next(!0),this.router.navigate([d.W$.tasksList]))},error:()=>{this.loadingService.stopLoad()}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(l.F0),e.Y36(g.e),e.Y36(T.b),e.Y36(h.g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["register-form"]],decls:20,vars:12,consts:[[1,"form-group","flex-column",3,"formGroup"],[1,"mat-title"],["color","accent","appearance","outline"],["type","text","matInput","","formControlName","name",3,"placeholder"],["type","email","matInput","","formControlName","email",3,"placeholder"],["type","password","matInput","","formControlName","password",3,"placeholder"],["type","password","matInput","","formControlName","repeatPassword",3,"placeholder"],[3,"label","disabled","buttonClick"]],template:function(n,a){1&n&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"mat-form-field",2)(4,"mat-label"),e._uU(5),e.qZA(),e._UZ(6,"input",3),e.qZA(),e.TgZ(7,"mat-form-field",2)(8,"mat-label"),e._uU(9),e.qZA(),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"mat-form-field",2)(12,"mat-label"),e._uU(13),e.qZA(),e._UZ(14,"input",5),e.qZA(),e.TgZ(15,"mat-form-field",2)(16,"mat-label"),e._uU(17),e.qZA(),e._UZ(18,"input",6),e.qZA(),e.TgZ(19,"ui-button",7),e.NdJ("buttonClick",function(){return a.register()}),e.qZA()()),2&n&&(e.Q6J("formGroup",a.form),e.xp6(2),e.Oqu(a.TEMPLATE_TEXT.register),e.xp6(3),e.Oqu(a.TEMPLATE_TEXT.name),e.xp6(1),e.Q6J("placeholder",a.TEMPLATE_TEXT.name),e.xp6(3),e.Oqu(a.TEMPLATE_TEXT.email),e.xp6(1),e.Q6J("placeholder",a.TEMPLATE_TEXT.emailPlaceholder),e.xp6(3),e.Oqu(a.TEMPLATE_TEXT.password),e.xp6(1),e.Q6J("placeholder",a.TEMPLATE_TEXT.password),e.xp6(3),e.Oqu(a.TEMPLATE_TEXT.repeatPassword),e.xp6(1),e.Q6J("placeholder",a.TEMPLATE_TEXT.repeatPassword),e.xp6(1),e.Q6J("label",a.TEMPLATE_TEXT.register)("disabled",a.form.invalid))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,m.KE,m.hX,f.Nt,E.L],encapsulation:2,changeDetection:0}),t})();const X=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:w},{path:"register",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["register-page"]],decls:1,vars:0,template:function(n,a){1&n&&e._UZ(0,"register-form")},dependencies:[M],encapsulation:2,changeDetection:0}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(X),l.Bz]}),t})();var F=i(5566);let b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[L.ez,o.UX,S,F.m]}),t})()}}]);